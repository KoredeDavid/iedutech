{% load humanize %}
{% load static %}
{% load custom_tags %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>{% block title %}{% endblock %}</title>

    <link href="{% static '/courses/css/bootstrap.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
    <!-- Google Fonts -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.6.0/mdb.min.css" rel="stylesheet"/>
    <!-- MDB -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet"/>
    <link href="{% static '/courses/css/test.css' %}" rel="stylesheet">

    <script type="text/javascript" src="{% static '/courses/js/jquery-3.5.1.js' %}"></script>
    <script type="text/javascript" src="{% static '/courses/js/bootstrap.min.js' %}"></script>
    <script type="text/javascript" src="{% static '/courses/js/test.js' %}"></script>
    <script type="text/javascript" src="{% static '/courses/js/test_courses.js' %}"></script>
    {#        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>#}
</head>
    <body>
        <header class="mb-5 pb-4 pb-md-5">
            {# Nav bar start #}
            <nav class="autohide navbar navbar-expand-md navbar-light mt-4  mx-auto  container rounded">
                <a class="navbar-brand text-dark font-weight-bold" href="#" id="console">Edutech</a>

                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    {#            <span class="navbar-toggler-icon"></span>#}
                    <i class="fas fa-bars h-25"></i>
                </button>

                <div class="collapse navbar-collapse p-0" id="navbarSupportedContent">
                    <ul class="navbar-nav ml-auto align-items-ceter">
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="#">Link</a>
                        </li>
                        <li class="nav-item ml-md-3 ">
                            <a class="nav-link  text-dark nav-dot" href="#"><span class="text-success">Link</span></a>
                        </li>
                        <li class="nav-item ml-md-3">
                            <a class="nav-link text-dark" href="#">Link</a>
                        </li>
                        <li class="nav-item ml-md-3">
                            <a class="nav-link text-dark" href="#">Link</a>
                        </li>
                        <li class="nav-item ml-md-3">
                            <a class="nav-link text-dark" href="#">Link</a>
                        </li>
                        <li class="nav-item ml-md-3" >
                            <a class="btn btn-warning"> Warning</a>
                        </li>
                    </ul>
                </div>
            </nav>
            {# Nav bar start #}
        </header>

        {% get_list_details channel_details 0 as snippet%}
        {% get_list_details channel_details 1 as statistics%}
        {% get_dict_details snippet 'thumbnails' as channel_thumbnail %}
        {% get_dict_details channel_thumbnail 'default' as channel_thumbnail_url %}

        {% get_list_details video_details 0 as video_snippet%}
        {% get_list_details video_details 1 as video_statistics%}

        <div class="container-lg p-0" dir="rtl" >
            <div class=" col-lg-3 m-0 enroll-card border card-shadow border-warning px-0" style=""  id="fuck">
                <!-- Card -->
                <div class="card">
                    <!-- Card image -->
                    {% get_dict_details video_snippet 'thumbnails' as video_thumbnail %}
                    {% get_dict_details video_thumbnail 'high' as  video_thumbnail_url %}
                    <img class="card-img-top" src="{% get_dict_details video_thumbnail_url 'url' %}" alt="Card image cap">

                    <!-- Card content -->
                    <div class="card-body d-none d-lg-block">
                        <!-- Title -->
                        <h4 class="card-title">Title</h4>
                        <!-- Text -->
                        <p>{% get_dict_details video_snippet 'title' %}</p>
                        <!-- Button -->
                        <a href="#" class="btn btn-warning">Enroll</a>
                    </div>
                </div>
            </div>
        </div>


        <div class="bg-dark">
            <div class="container py-2 py-md-4">
                <div class="row  py-2 py-md-4 align-items-center">
                    <div class="col-lg-7  text-white ">
                        <h1 class="font-weight-bold">{% get_dict_details video_snippet 'title' %}</h1>
                        <hr>

                        <small class="d-inline mr-2 "><i class="far fa-thumbs-up text-warning"></i>{% get_dict_details video_statistics 'likeCount' as video_like_count%} {{video_like_count|intcomma}}</small>
                        <small class="d-inline mr-2 "><i class="far fa-eye text-warning"></i>{% get_dict_details video_statistics 'viewCount' as video_view_count%} {{video_view_count|intcomma}}</small>
                        <small class="d-inline mr-2 "><i class="far fa-comment text-warning"></i>{% get_dict_details video_statistics 'commentCount' as video_comment_count%} {{video_comment_count|intcomma}}</small>
                        <br>
                        <small class="mt-2">
                            <a class="text-decoration-none text-white" href="https://youtube.com/channel/{% get_dict_details video_snippet 'channelId' %}">
                                Uploaded by <b>{% get_dict_details snippet 'title' %}</b> on Youtube <i class="fab fa-youtube mr-2 text-danger"></i>
                            </a>
                        </small>
                        <br>
                        <small class="d-inline mr-2 "><i class="far fa-comment text-warning mr-2"></i>Date uploaded: {% get_dict_details video_snippet 'publishedAt' as video_publish_date %} {{ video_publish_date|extract_date}}</small>
                        <small class="d-inline mr-2 "><i class="fas fa-language text-warning mr-2"></i>Language: {% get_dict_details video_snippet 'defaultAudioLanguage' as language %} {{ language|lower}}</small>


                    </div>
                </div>
            </div>
        </div>


        {#     Description   #}
        <section class="container mt-4 mb-5 small">
            <div class="row">
                <div class="col-lg-7 px-0">
                    <div class="border border-warning mb-4 p-3 ">
                        <h3>What to expect</h3>
                        <ul class="list-checkmark row px-0">
                            {% for expectations in youtube_course.expectations|separate_star %}
                                <li class="mt-1 col-xl-6">{{expectations}}</li>
                            {% endfor %}
                        </ul>
                    </div>

                    <div class="mb-4 px-3">
                        <h3>Requirements</h3>
                        <ul>
                            {% for requirement in youtube_course.requirements|separate_star %}
                                <li>{{ requirement}}</li>
                            {% endfor %}
                        </ul>
                    </div>

                    <div class="mb-4 px-3">
                        <h3>Description</h3>
                        <p>{{ youtube_course.description }}</p>
                    </div>

                    <div class="border border-warning mb-4 p-3">
                        <h3>Top Comments</h3>
                        {% for comment in comments %}
                            {% get_item comment  as comment_details %}
                            <img class="rounded-circle border border-warning shadow mr-2" alt="100x100" src="{% get_dict_details comment_details 'authorProfileImageUrl' %}"/>
                            <p class="d-inline"> <a class="text-decoration-none text-dark font-weight-bold" href="{% get_dict_details comment_details 'authorChannelUrl' %}"> {% get_dict_details comment_details 'authorDisplayName' %} </a> </p>
                            <p class="mt-2 text-break"> {% get_dict_details comment_details 'textDisplay' %} </p>
                            <hr>
                        {% endfor %}
                    </div>

                    <div class="mb-4 px-3">
                        <h3>Channel</h3>

                        <p class="mb-1"><a class="text-decoration-none text-dark font-weight-bold" href="https://youtube.com/channel/{% get_dict_details video_snippet 'channelId' %}"> {% get_dict_details snippet 'title' %}</a> </p>

                        <div class="px-0 d-flex align-items-center">
                            <img class="rounded-circle p-0  mr-1 border border-warning shadow" alt="Channel Image" src="{% get_dict_details channel_thumbnail_url 'url'%}"/>
                            <div class="d-inline-block mt-2 small">
                                <p class="mb-1"><i class="far fa-eye mr-2 text-warning"></i>{% get_dict_details statistics 'viewCount' as channel_view_count%} {{channel_view_count|intcomma}} views</p>
                                <p class="mb-1"><i class="fab fa-youtube mr-2 text-warning"></i>{% get_dict_details statistics 'subscriberCount' as subscriber_count%} {{subscriber_count|intcomma}} subscribers</p>
                                <p class="mb-1"><i class="fas fa-video mr-2 text-warning"></i>{% get_dict_details statistics 'videoCount' as video_count%} {{video_count|intcomma}} videos</p>
                            </div>
                        </div>

                        <p class="mb-1">{% get_dict_details snippet 'description' %}videos</p>
                    </div>
                </div>
            </div>
        </section>

        <div class="position-fixed d-block d-lg-none fixed-bottom mb-0 text-center small border border-danger">
            <button class="w-100 btn btn-warning text-dark">Enroll</button>
        </div>

    </body>

</html>
